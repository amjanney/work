(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{2050:function(n,t,e){"use strict";var i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("v-uni-view",{staticClass:"login"},[e("v-uni-view",{staticClass:"logo"},[e("v-uni-image",{attrs:{src:"/static/icon/colorfull-logog.png",mode:"aspectFit"}})],1),e("v-uni-view",{staticClass:"login-input"},[e("v-uni-view",{staticClass:"phone login-common"},[e("v-uni-picker",{staticClass:"phone-area",attrs:{value:n.index,range:n.pickerList},on:{change:function(t){t=n.$handleEvent(t),n.bindPickerChange(t)}}},[n._v(n._s(n.pickerList[n.index])),e("v-uni-image",{attrs:{src:"../../static/icon/down.png",mode:""}})],1),e("v-uni-input",{staticClass:"phone-input",attrs:{type:"number",placeholder:"请输入电话号码"},on:{blur:function(t){t=n.$handleEvent(t),n.handelInputMobile(t)}},model:{value:n.queryParams.mobile,callback:function(t){n.$set(n.queryParams,"mobile",t)},expression:"queryParams.mobile"}})],1),e("v-uni-view",{staticClass:"captcha login-common"},[e("v-uni-view",{staticClass:"captcha-text"},[n._v("验证码")]),e("v-uni-input",{staticClass:"captcha-input",attrs:{type:"number",maxlength:"6",placeholder:"请输入验证码"},on:{blur:function(t){t=n.$handleEvent(t),n.handleInputCaptcha(t)}},model:{value:n.queryParams.code,callback:function(t){n.$set(n.queryParams,"code",t)},expression:"queryParams.code"}}),e("v-uni-button",{staticClass:"captcha-button common-button",class:{active:n.state.smsSendBtn},on:{click:function(t){t=n.$handleEvent(t),n.bindSendCaptcah(t)}}},[n._v(n._s(n.state.smsSendBtn?n.state.time+" s":"获取验证码"))])],1)],1),e("v-uni-button",{staticClass:"common-button login-button",on:{click:function(t){t=n.$handleEvent(t),n.handleLogin(t)}}},[n._v("登录")])],1)},a=[];e.d(t,"a",function(){return i}),e.d(t,"b",function(){return a})},"280a":function(n,t,e){"use strict";e.r(t);var i=e("d9a6"),a=e.n(i);for(var o in i)"default"!==o&&function(n){e.d(t,n,function(){return i[n]})}(o);t["default"]=a.a},"776c":function(n,t,e){t=n.exports=e("2350")(!1),t.push([n.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.login[data-v-75341e9b]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:0 %?56?%}.login .logo[data-v-75341e9b]{width:%?384?%;height:%?146?%;margin-bottom:%?112?%;margin-top:%?200?%;background:#ecedee}.login .login-button[data-v-75341e9b]{width:100%;background:#dad9e2}.login .common-button[data-v-75341e9b]{height:%?88?%;line-height:%?88?%;color:#fff;border-radius:%?8?%;font-size:%?30?%;background:#006a60}.login .login-input[data-v-75341e9b]{width:100%;margin-bottom:%?84?%}.login .login-input .login-common[data-v-75341e9b]{height:%?88?%;line-height:%?88?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.login .login-input uni-input[data-v-75341e9b]{background:#fff;height:%?88?%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-size:%?30?%}.login .login-input .phone[data-v-75341e9b]{margin-bottom:%?28?%;background:#fff}.login .login-input .phone .phone-area[data-v-75341e9b]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0 %?38?% 0 %?20?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.login .login-input .phone .phone-area uni-image[data-v-75341e9b]{width:%?20?%;height:%?20?%;margin-left:%?16?%}.login .login-input .captcha .captcha-text[data-v-75341e9b]{background:#fff;padding:0 %?38?% 0 %?20?%}.login .login-input .captcha .captcha-button[data-v-75341e9b]{margin-left:%?24?%;width:%?200?%;padding:0}.login .login-input .captcha .active[data-v-75341e9b]{background:#dad9e2;border-color:#dad9e2}',""])},"98d1":function(n,t,e){"use strict";var i=e("d8f8"),a=e.n(i);a.a},a93d:function(n,t,e){"use strict";e.r(t);var i=e("2050"),a=e("280a");for(var o in a)"default"!==o&&function(n){e.d(t,n,function(){return a[n]})}(o);e("98d1");var s=e("2877"),l=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,"75341e9b",null);t["default"]=l.exports},d8f8:function(n,t,e){var i=e("776c");"string"===typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);var a=e("4f06").default;a("177f536a",i,!0,{sourceMap:!1,shadowMode:!1})},d9a6:function(n,t,e){"use strict";(function(n){var i=e("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e("7f7f");var a=i(e("6a0f")),o={data:function(){return{title:"Hello",pickerList:[],areaCodeList:[],index:0,state:{time:60,loginBtn:!1,smsSendBtn:!1,isMobileRight:!1},queryParams:{}}},onLoad:function(n){this.queryParams.auth_id=n.auth_id,this.loadRegionCodes()},methods:{bindPickerChange:function(n){this.index=n.target.value,this.queryParams.region_code=this.areaCodeList[index].code,this.queryParams.region_number=this.areaCodeList[index].number},handleInputCaptcha:function(n){n.target.value&&6===n.target.value.length?(this.queryParams.code=n.target.value,this.queryParams.mobile&&this.queryParams.code?this.state.loginBtn=!0:this.state.loginBtn=!1):n.target.value&&uni.showToast({title:"验证码输入不正确",icon:"none"})},handelInputMobile:function(n){this.queryParams.mobile=n.target.value;var t=/^1[345789]\d{9}$/;t.test(this.queryParams.mobile)?this.state.isMobileRight=!0:n.target.value&&(this.state.isMobileRight=!1,uni.showToast({title:"手机号输入不正确",icon:"none"}))},bindSendCaptcah:function(){var t=this.state;this.queryParams.mobile||uni.showToast({title:"请输入手机号码",icon:"none"}),!t.smsSendBtn&&t.isMobileRight&&(t.smsSendBtn=!0,uni.showLoading({title:"验证码发送中"}),this.$api.getCaptcha(this.queryParams).then(function(n){var e=window.setInterval(function(){t.time--<=0&&(t.time=60,t.smsSendBtn=!1,window.clearInterval(e),uni.hideLoading())},1e3);uni.showToast({title:"验证码发送成功",icon:"none"})}).catch(function(e){t.smsSendBtn=!1,uni.hideLoading(),n.log(e),uni.showToast({title:"发送失败",icon:"none"})}))},handleLogin:function(){this.queryParams.mobile&&this.queryParams.code?a.default.dispatch("Login",this.queryParams).then(function(n){uni.showToast({title:"欢迎回来",icon:"none"}),uni.reLaunch({url:"../tabBar/index/index"})}).catch(function(){uni.showToast({title:"登录失败",icon:"none"})}):this.queryParams.mobile?uni.showToast({title:"请输入验证码",icon:"none"}):uni.showToast({title:"请输入手机号码",icon:"none"})},loadRegionCodes:function(){var n=this;this.$api.getRegionCodes().then(function(t){t.data.map(function(e){n.areaCodeList=t.data,n.pickerList.push(e.name+e.number),n.queryParams.region_code=n.areaCodeList[0].code,n.queryParams.region_number=n.areaCodeList[0].number})})}}};t.default=o}).call(this,e("5a52")["default"])}}]);